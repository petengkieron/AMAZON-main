<form [formGroup]="productForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="name">Nom</label>
    <input type="text" class="form-control" id="name" formControlName="name" required>
    <div *ngIf="productForm.get('name')?.invalid && (productForm.get('name')?.dirty || productForm.get('name')?.touched)" class="alert alert-danger">
      Le nom est requis et doit contenir au moins 3 caractères.
    </div>
  </div>
  <div class="form-group">
    <label for="description">Description</label>
    <textarea class="form-control" id="description" formControlName="description" required></textarea>
    <div *ngIf="productForm.get('description')?.invalid && (productForm.get('description')?.dirty || productForm.get('description')?.touched)" class="alert alert-danger">
      La description est requise et doit contenir au moins 10 caractères.
    </div>
  </div>
  <div class="form-group">
    <label for="price">Prix</label>
    <input type="number" class="form-control" id="price" formControlName="price" required>
    <div *ngIf="productForm.get('price')?.invalid && (productForm.get('price')?.dirty || productForm.get('price')?.touched)" class="alert alert-danger">
      Le prix est requis et doit être supérieur ou égal à 0.
    </div>
  </div>
  <div class="form-group">
    <label for="category">Catégorie</label>
    <input type="text" class="form-control" id="category" formControlName="category" required>
    <div *ngIf="productForm.get('category')?.invalid && (productForm.get('category')?.dirty || productForm.get('category')?.touched)" class="alert alert-danger">
      La catégorie est requise.
    </div>
  </div>
  <button type="submit" class="btn btn-primary" [disabled]="!productForm.valid">{{ isEditMode ? 'Mettre à jour' : 'Créer' }}</button>
  <button type="button" class="btn btn-secondary" (click)="onCancel()">Annuler</button>
</form>

<div *ngIf="error" class="alert alert-danger mt-3">
  {{ error }}
</div>
